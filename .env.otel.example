# OpenTelemetry Configuration

## Basic Configuration
# Service name for traces (will appear in CloudWatch/X-Ray)
OTEL_SERVICE_NAME=apuntador-backend

# Environment name
OTEL_RESOURCE_ATTRIBUTES=service.version=1.0.0,deployment.environment=production

## Exporter Configuration
# OTLP exporter endpoint (ADOT Collector)
# For Lambda: http://localhost:4317
# For ECS: http://localhost:4317 (if ADOT sidecar is configured)
# For EC2/Local: http://adot-collector:4317
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# Protocol: grpc or http/protobuf
OTEL_EXPORTER_OTLP_PROTOCOL=grpc

## Tracing Configuration
# Enable/disable tracing
OTEL_TRACES_ENABLED=true

# Trace sampling (1.0 = 100%, 0.1 = 10%)
OTEL_TRACES_SAMPLER=parentbased_traceidratio
OTEL_TRACES_SAMPLER_ARG=1.0

## AWS X-Ray Configuration
# Propagator for distributed tracing
OTEL_PROPAGATORS=xray

# AWS Region
AWS_REGION=eu-west-1

## Logging Configuration (optional)
# Add trace context to logs
OTEL_PYTHON_LOG_CORRELATION=true

# Log level for OpenTelemetry internal logs
OTEL_LOG_LEVEL=info

## Advanced Configuration
# Batch span processor settings
OTEL_BSP_SCHEDULE_DELAY=5000           # Export delay in ms (default: 5000)
OTEL_BSP_MAX_QUEUE_SIZE=2048           # Max queue size (default: 2048)
OTEL_BSP_MAX_EXPORT_BATCH_SIZE=512    # Max export batch size (default: 512)
OTEL_BSP_EXPORT_TIMEOUT=30000          # Export timeout in ms (default: 30000)
